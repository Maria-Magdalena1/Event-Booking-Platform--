<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
    <meta charset="UTF-8">
    <title>Home | Event Booking Platform</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
    <link rel="stylesheet" th:href="@{/css/home.css}">
    <link rel="stylesheet" th:href="@{/css/navbar.css}">

</head>
<body>

<div th:replace="~{fragments/navbar :: navbar}"></div>

<section class="hero">
    <h1>Welcome to Event Booking Platform</h1>
    <p class="lead">Plan, host, and enjoy unforgettable events with ease.</p>
    <div class="d-flex justify-content-center gap-3 mt-3">
        <a class="btn btn-lg text-white flex-fill" th:href="@{/events}">Browse Events</a>
        <a th:href="@{/events/add-event}" class="btn btn-lg btn-outline-peach flex-fill">Create Event</a>
    </div>
</section>

<section class="featured-events text-center py-5">
    <div class="container">
        <h2 class="mb-4">Upcoming Events</h2>
        <div class="d-flex flex-wrap justify-content-center gap-4">
            <div class="card" style="width: 18rem;" th:each="event : ${events}">
                <div class="card-body">
                    <h5 class="card-title" th:text="${event.name}">Event Name</h5>
                    <p class="card-text text-muted"
                       th:text="${event.location + ' • ' + #temporals.format(event.startDate,'dd MMM')}">Location •
                        Date</p>
                    <div>
                        <a th:if="${event.availableSeats > 0 and event.creator.id != user.id}"
                           th:href="@{/bookings/create/{id}(id=${event.id},from='/events')}"
                           class="btn btn-primary w-100 mt-2">
                            Book Now
                        </a>

                        <span th:if="${event.availableSeats == null or event.availableSeats == 0}"
                              style="color:red; font-weight:bold; display:block; text-align:center; margin-top:0.5rem;">Sold Out</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<section class="newsletter text-center py-5">
    <h3>Stay Updated!</h3>
    <p>Subscribe to get the latest events and offers.</p>
    <form class="d-flex justify-content-center mt-3">
        <label for="newsletterEmail" class="visually-hidden">Email address</label>
        <input type="email" id="newsletterEmail" class="form-control w-25" placeholder="Enter your email">
        <button type="submit" class="btn btn-success ms-2">Subscribe</button>
    </form>
</section>

<footer class="text-center py-3 mt-4">
    &copy; 2025 EventBookingPlatform
</footer>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
